<div>
  <div>
    <%= render 'shared/flash_message' %>
  </div>
  <div class="flex">
    <% if @user.name.blank? %>
      ユーザーネーム未設定
    <% else %>
      <div class="font-semibold">
        <%= @user.name %>
      </div>
    <% end %>
    <span class="font-semibold text-string-base text-md">さんのグラフ</span> 
  </div>
  <div>
    <canvas 
          height="350" 
          id="myChart"
          class="my-4"
          data-controller="charts--display"
          data-chart-labels="<%= @labels.to_json %>"
          data-chart-data="<%= @data.to_json %>">
    </canvas>
  </div>
  <div>
    <div>
      <p class="font-semibold text-string-base text-md mt-8 mb-4">前回の記録</p> 
    </div>
    <!-- 直近一件の記録 -->
    <div id="latest-record" class="border border-border-base p-4 rounded-md text-string-base">
      <div class="text-sm">
        <%= @latest_record.created_at.strftime("%Y/%m/%d %H:%M") %>
      </div>  
      <div class="my-2">
        <span class="text-md">気分： </span>
        <span class="font-semibold text-xl">
          <%= mood_display(@latest_record.mood_score) %>
        </span>
      </div>
      <div class="font-light">
        <%= @latest_record.memo %>
      </div>
    </div>
  </div>
  <div>
    <%= link_to "さらに過去の記録を見る", user_daily_records_path(@user.id), class: "border border-border-base block w-full mt-4 py-2 text-center text-string-base font-semibold bg-white rounded-md" %>
  </div>
</div>
